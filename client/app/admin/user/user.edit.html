<div class="clearfix">
  <h2>Admin: Edit User</h2>

  <form class="form" name="userForm" novalidate ng-model-options="{updateOn: 'default blur', debounce: {default: 500, blur: 0}}">
    <div class="clearfix" style="padding: 20px;">
      <div class="col-md-6">
        <div class="form-group">
          <label>Name</label>
          <input class="form-control" name="name" type="text" ng-model="user.name" required>
          <div ng-messages="userForm.name.$error">
            <div ng-messages-include="components/partials/validationMessages.html"></div>
          </div>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input class="form-control" name="email" type="email" ng-model="user.email" required>
          <div ng-messages="userForm.email.$error">
            <div ng-messages-include="components/partials/validationMessages.html"></div>
          </div>
        </div>
        <div class="form-group">
          <label>Phone Number <span class="required">*</span></label>
          <input class="form-control" name="phone" type="text" ng-model="user.phone" required ui-mask="999-999-9999" ui-options="{clearOnBlur: false}">
          <div ng-messages="userForm.phone.$error">
            <div ng-message="mask" class="error">This phone number is invalid and will not be saved</div>
            <div ng-messages-include="components/partials/validationMessages.html"></div>
          </div>
        </div>
        <div class="form-group">
          <label style="width: 200px">Is Active</label>
          <input class="form-control" type="checkbox" ng-model="user.active" bs-switch switch-on-text="Yes" switch-off-text="No"  ng-model-options="{updateOn: 'default blur', debounce: {default: 0, blur: 0}}">
        </div>
      </div>
      <div class="col-md-6" ng-model-options="{updateOn: 'default blur', debounce: {default: 0, blur: 0}}">
        <div class="form-group">
          <label>Role</label>
          <select class="form-control" name="role" ng-model="user.role" required ng-options="baseRole.name as baseRole.title for baseRole in baseRoles"></select>
          <div ng-messages="userForm.role.$error">
            <div ng-messages-include="components/partials/validationMessages.html"></div>
          </div>
        </div>
        <div class="form-group">
          <label>Role Permissions</label>
          <select class="form-control" name="_role" ng-model="user._role" ng-options="role._id as role.name for role in roles">
            <option value="">Default</option>
          </select>
          <sub class="text-muted">NOTE: Default user permissions will be overridden with this role permissions</sub>
          <div ng-messages="userForm.role.$error">
            <div ng-messages-include="components/partials/validationMessages.html"></div>
          </div>
        </div>
      </div>
    </div>
  </form>
  <div>
    <a href="javascript:void(0);" class="btn btn-danger" style="margin: 20px 30px;" ng-click="resetPassword()">Reset Password</a>
  </div>
  <div>
    <a href="javascript:void(0);" class="btn btn-primary" ui-sref="admin.users.list" style="margin: 20px 30px;">Cancel</a>
  </div>
</div>
